---
title: "MCP Exa: поиск, который понимает смысл"
description: "Как подключить Exa MCP к Claude Code и почему это must-have инструмент для вайбкодера"
date: 2026-02-13
category: "Инструменты"
difficulty: "Начинающий"
weight: 4
---

## Что это

Exa — поисковик для AI-агентов. Если Google ищет по ключевым словам, то Exa ищет по смыслу: ты пишешь полное предложение на естественном языке, а не дробишь мысль на 2-3 слова. Разница как между `ctrl+F` и разговором с человеком, который прочитал весь интернет.

Через MCP-сервер Exa подключается прямо к Claude Code. Агент получает доступ к веб-поиску, коду на GitHub, документации — не выходя из сессии.

## Зачем вайбкодеру

Без Exa агент работает вслепую. Спрашиваешь про настройку Hugo — а он отвечает из памяти, обрезанной на дате обучения (у Claude Opus 4.6 это май 2025). Всё, что появилось после — агент не знает. Exa закрывает этот разрыв: агент идёт и смотрит актуальную документацию прямо сейчас.

Три инструмента в одном MCP-сервере:

```
┌─────────────────────┐
│      Exa MCP        │
├─────────────────────┤
│  web_search_exa     │──▶ Веб-поиск по смыслу
│  get_code_context   │──▶ Код, доки, Stack Overflow
│  company_research   │──▶ Информация о компаниях
└─────────────────────┘
```

**web_search_exa** — основной инструмент. Ищет статьи, документацию, best practices и понимает длинные запросы на естественном языке — можно писать целыми предложениями.

**get_code_context_exa** заточен под код: GitHub, Stack Overflow, официальные доки. Возвращает готовые примеры с контролируемым объёмом контекста (от 3000 до 8000 токенов).

**company_research_exa** — если нужна бизнес-информация: новости компании, продукты, позиционирование на рынке.

## Чем Exa отличается от обычного поиска

Google заточен под короткие запросы из 2-3 слов от живых людей. Exa — под длинные семантические вопросы от AI-агентов. Это разные задачи, разные архитектуры.

| | Google/WebSearch | Exa |
|---|---|---|
| Запрос | Ключевые слова | Полное предложение |
| Результат | Ссылки + сниппеты | Чистый текст для LLM |
| Реклама | Да | Нет |
| Скорость | ~500ms | ~150ms (Instant mode) |
| Оптимизация | Для людей | Для AI-агентов |

Под капотом Exa использует нейросетевой поиск — embeddings вместо keyword matching. На практике это значит: запрос "как сортировать страницы Hugo по дате последнего обновления" найдёт релевантные результаты, даже если на странице нет точной фразы "сортировать страницы Hugo".

В [бенчмарке SimpleQA от OpenAI](https://exa.ai/blog/api-evals) Exa входит в топ поисковых API по точности для AI-задач, наравне с [Linkup](https://www.linkup.so/) и другими специализированными поисковиками.

## Как подключить

### Вариант 1: Hosted MCP (рекомендуется)

Самый простой способ — hosted сервер от Exa. Не нужен API-ключ, не нужен npm.

```bash
claude mcp add --transport http exa https://mcp.exa.ai/mcp
```

Одна команда. Перезапускаешь Claude Code — Exa работает.

### Вариант 2: Локальный через npm

Если нужен контроль или кастомизация:

1. Получи API-ключ на [dashboard.exa.ai](https://dashboard.exa.ai/api-keys)
2. Добавь в `~/.claude.json`:

```json
{
  "mcpServers": {
    "exa": {
      "command": "npx",
      "args": ["-y", "exa-mcp-server"],
      "env": {
        "EXA_API_KEY": "your-api-key"
      }
    }
  }
}
```

3. Перезапусти Claude Code полностью.

### Проверка

```bash
claude mcp list
```

В списке должен появиться `exa` с тремя инструментами.

## Как я использую

У меня есть промпт, записанный на быструю кнопку в Claude Code:

> проведи комплексное исследование на предмет лучших практик для этой проблемы используя exa mcp сегодня Feb 13, 2026

Указание даты — не просто привычка. Без даты агент может вернуть устаревшие результаты. "Сегодня Feb 13, 2026" говорит ему: ищи актуальное.

Эту кнопку я жму в середине любой задачи, где нужен контекст из интернета. Не формулирую запрос руками — просто жму кнопку, а агент сам формирует запрос из текущего контекста сессии.

### Реальные примеры из моих сессий

**Поиск по документации Hugo.** Настраивал сортировку страниц по дате обновления на context.lat. Агент через `web_search_exa` нашёл актуальные best practices:

```
"Hugo static site lastmod sort by last modified date best practices 2025 2026"
```

Потом переключился на `get_code_context_exa` для конкретных примеров кода:

```
"Hugo sort pages by lastmod date show recently updated content homepage"
```

Два инструмента, две разные задачи: сначала понять подход, потом найти код.

**Troubleshooting деплоя.** Проблема: `enableGitInfo` не работал на Vercel из-за shallow clone. Запрос в `web_search_exa`:

```
"Vercel Hugo enableGitInfo shallow clone git history deploy"
```

Агент нашёл решение — связку из нескольких технологий в одном запросе. Обычный Google потребовал бы несколько отдельных поисков.

**Бизнес-исследование.** Нужно было понять, как онлайн-курсы работают с returning students. Exa нашёл стратегии и pricing модели:

```
"online course alumni access to updated materials best practices pricing strategy"
```

Тот же Exa, но совсем другая задача. Один инструмент покрывает и техническое, и бизнесовое.

## Паттерны эффективных запросов

Из практики — паттерны, которые дают лучшие результаты:

### 1. Конкретная технология + контекст + год

```
"Hugo lastmod enableGitInfo 2026"
```

Год критичен. Без него Exa может вернуть статью 2023 года с устаревшим API.

### 2. Связка технологий

```
"Vercel Hugo enableGitInfo shallow clone"
```

Когда проблема на стыке двух инструментов — перечисли оба. Exa понимает контекст связки.

### 3. Выбор правильного инструмента

```
web_search_exa    → статьи, best practices, сравнения
get_code_context  → примеры кода, конфиги, API-доки
company_research  → бизнес-информация о компании
```

`get_code_context_exa` ищет по GitHub и Stack Overflow. Если нужен код — используй его, а не `web_search_exa`.

### 4. Управление объёмом

Параметр `numResults` для веб-поиска:
- **3** — узкий технический вопрос с точным ответом
- **5** — стандартный поиск документации
- **8** — широкий research, когда нужна картина целиком

Параметр `tokensNum` для поиска кода:
- **3000** — конкретная функция или конфиг
- **5000** — стандартный размер для примеров
- **8000** — комплексная документация с контекстом

## Best practices

### Изолируй поиск в субагентах

Один поиск Exa может вернуть 15-20KB текста — это ощутимый кусок контекстного окна. Если ищешь что-то объёмное — запускай поиск через Task-агента. Он получит результаты, обработает, и вернёт только нужное.

```
Агент (основной контекст)
    │
    ├──▶ Task-агент: поиск через Exa
    │         └──▶ возвращает выжимку
    │
    └──▶ продолжает работу с чистым контекстом
```

### Формулируй полные вопросы

Exa понимает семантику. Не нужно дробить на ключевые слова как для Google:

```
Плохо:  "Hugo sort lastmod"
Хорошо: "Hugo sort pages by last modified date show recently updated"
```

### Комбинируй инструменты

Сначала `web_search_exa` для понимания подхода, потом `get_code_context_exa` для конкретного кода. Два шага дают лучший результат, чем один.

### Указывай год

В любом запросе, где важна актуальность, добавляй "2026". Это фильтрует устаревшие результаты.

## Ограничения

- Некоторые категории (company, people) ограничивают фильтры по домену и дате
- Hosted вариант не требует ключа, но имеет rate limits — при интенсивном research можно упереться
- Результаты сильно зависят от формулировки — пробуй несколько вариаций одного запроса
- Для узкоспециальных библиотек и инструментов с маленьким комьюнити поиск будет слабым — Exa лучше работает по популярным технологиям

## Частые вопросы

### Нужен ли API-ключ?

Для hosted варианта (`https://mcp.exa.ai/mcp`) — нет. Для npm-пакета — да, ключ берётся на [dashboard.exa.ai](https://dashboard.exa.ai/api-keys).

### Exa бесплатный?

Hosted MCP-сервер (`mcp.exa.ai`) работает без API-ключа. Для npm-варианта нужен аккаунт на [dashboard.exa.ai](https://dashboard.exa.ai) — есть бесплатный tier с лимитами и платные планы для интенсивного использования.

### Можно подключить к Cursor или VS Code?

Да. Для Cursor — конфиг в `~/.cursor/mcp.json`. Для VS Code — в `.vscode/mcp.json` в корне проекта. Формат JSON тот же, что и для Claude Code.

### Чем Exa лучше встроенного WebSearch?

WebSearch в Claude Code — обёртка над стандартным поисковиком. Exa — нейросетевой поиск, заточенный под AI. На практике разница заметна: Exa лучше понимает длинные семантические запросы и возвращает чистый контент без рекламы и SEO-мусора. Плюс у Exa есть отдельный инструмент для поиска кода — WebSearch такого не умеет.
